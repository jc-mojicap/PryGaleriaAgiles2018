{% extends "polls/base.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>{% block title %}Galeria{% endblock %}</title>
    {% block scripts %}
<script>
        (function(){
            $.getJSON("/polls/media").done(function (data) {
                if(data.length === 0) {
                    $("#media").append('<h2 class="text-center">No hay nada para mostrar ðŸ˜¢ </h2>')
                } else {
                    $.each(data, function (i, item) {
                        let tipo = item.fields.tipo.toUpperCase();
                        if(tipo === "VIDEO" || tipo === "AUDIO"){
                            $("#media").prepend('<div class="col-md-4 col-sm-6 col-lg-3 well">' +
                                '<a href="/polls/ver_detalle?id=' + item.pk + '">' +
                                '<img width="300" height="200" src="https://img.youtube.com/vi/'+ item.fields.url + '/0.jpg" ></img></a>' +
                                '<a href="/polls/ver_detalle?id=' + item.pk + '"><p class="btn-link">'+ item.fields.titulo +'</p></a>');
                        }
                        else {
                            $("#media").append('<h2 class="text-center">No hay nada para mostrar ðŸ˜¢ </h2>')
                        }
                    });
                }
            });
        })();
    </script>
    {% endblock %}
</head>
<body>
{% block content %}
<h1 align="center">Galeria</h1>
<div class="row" id="media"></div>
{% endblock %}
</body>
</html>
